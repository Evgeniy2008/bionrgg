# Исправление цветов социальных сетей

## Проблема
Цвета социальных сетей (socialBgColor, socialTextColor) не сохранялись и не отображались корректно в глобальном профиле.

## Причина
Поля в базе данных были созданы с размером VARCHAR(7), что недостаточно для хранения цветов в формате #RRGGBB (7 символов) и может вызывать проблемы при сохранении значений с #.

## Решение

### 1. Обновите структуру базы данных

Выполните SQL-скрипт `fix-social-colors.sql` в phpMyAdmin или MySQL консоли:

```sql
-- Modify existing columns to have correct size
ALTER TABLE `users_info` MODIFY COLUMN `socialBgColor` varchar(9) DEFAULT '#000000';
ALTER TABLE `users_info` MODIFY COLUMN `socialTextColor` varchar(9) DEFAULT '#ffffff';
ALTER TABLE `users_info` MODIFY COLUMN `color` varchar(9) DEFAULT '#c27eef';
ALTER TABLE `users_info` MODIFY COLUMN `colorText` varchar(9) DEFAULT '#ffffff';
```

### 2. Что было исправлено

1. **database.sql** - обновлены исходные определения полей
2. **database-update.sql** - исправлены размеры полей при обновлении базы
3. **api/update-profile.php** - добавлены запросы для изменения размера существующих полей
4. **fix-social-colors.sql** - создан отдельный скрипт для исправления

### 3. Проверка

После выполнения SQL-скрипта проверьте:

1. Откройте страницу "My Profile" (my-profile.html)
2. Измените цвета социальных сетей:
   - Background Color для ссылок
   - Text Color для ссылок
   - Opacity для фона ссылок
3. Сохраните изменения
4. Откройте ваш публичный профиль
5. Убедитесь, что цвета применяются корректно

### 4. Альтернативный способ

Если SQL-скрипт не работает, можно выполнить вручную через phpMyAdmin:

1. Откройте базу данных `bionrgg`
2. Выберите таблицу `users_info`
3. Перейдите на вкладку "Структура"
4. Найдите поля `socialBgColor` и `socialTextColor`
5. Нажмите "Изменить" на каждом поле
6. Измените "Длина/Значения" с `7` на `9`
7. Сохраните изменения

## Технические детали

- Размер VARCHAR(9) позволяет хранить цвета в формате #RRGGBB (7 символов) + запас для безопасности
- Обновлены все файлы, которые создают или модифицируют эти поля
- Добавлены запросы ALTER для изменения размера существующих полей

## Примечания

- Все изменения обратно совместимы
- Существующие данные не будут потеряны
- Цвета, сохраненные в старом формате, продолжат работать 