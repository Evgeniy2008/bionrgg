# Функціонал компаній/груп - Документація

## Опис

Система дозволяє користувачам створювати профілі компаній/груп з можливістю управління єдиним дизайном для всіх учасників.

## Встановлення

1. Виконайте SQL-запит з файлу `create-companies-tables.sql` в phpMyAdmin для створення необхідних таблиць.

## Основні можливості

### 1. Створення профілю компанії

При реєстрації користувач може обрати:
- **Особистий профіль** - стандартний профіль для особистого використання
- **Профіль компанії** - профіль для організації/групи

При створенні профілю компанії:
- Створюється компанія з унікальним ключем (8 символів)
- Користувач автоматично стає власником компанії
- Генерується ключ компанії, який можна використовувати для запрошення учасників

### 2. Приєднання до компанії

Будь-який користувач може приєднатися до компанії, використовуючи ключ компанії:
- Перейдіть на сторінку "Мій профіль"
- У розділі "Приєднатися до компанії" введіть ключ
- Натисніть "Приєднатися"

### 3. Управління компанією

Власник компанії має доступ до:
- **Ключ компанії** - для запрошення нових учасників
- **Кількість учасників** - скільки людей в компанії
- **Єдиний дизайн для всіх** - перемикач для увімкнення/вимкнення

### 4. Єдиний дизайн

Коли власник увімкне "Єдиний дизайн для всіх":
- Всі учасники компанії автоматично отримують той самий дизайн, що й власник
- Учасники не можуть змінювати дизайн (поля заблоковані)
- Власник може змінювати дизайн, і зміни автоматично застосовуються до всіх учасників
- Учасники можуть редагувати тільки соціальні посилання та опис профілю

Коли функція вимкнена:
- Кожен учасник може редагувати свій дизайн незалежно

## Структура бази даних

### Таблиця `companies`
- `id` - унікальний ідентифікатор
- `company_key` - унікальний ключ компанії (8 символів)
- `company_name` - назва компанії
- `owner_username` - ім'я користувача власника
- `unified_design_enabled` - чи увімкнено єдиний дизайн

### Таблиця `company_members`
- `company_id` - ID компанії
- `username` - ім'я користувача
- `role` - роль (owner/member)

### Таблиця `company_designs`
- Зберігає дизайн компанії (кольори, прозорість, зображення)

## API Endpoints

### POST `/api/join-company.php`
Приєднання до компанії по ключу
```json
{
  "username": "user",
  "password": "pass",
  "company_key": "ABC12345"
}
```

### GET `/api/get-company.php`
Отримання інформації про компанію користувача
```
?username=user&password=pass
```

### POST `/api/update-company-settings.php`
Оновлення налаштувань компанії (тільки для власника)
```json
{
  "username": "owner",
  "password": "pass",
  "unified_design_enabled": 1
}
```

### POST `/api/update-company-design.php`
Оновлення дизайну компанії (тільки для власника)

## Примітки

- При створенні профілю компанії ключ автоматично копіюється в буфер обміну
- При увімкненні єдиного дизайну всім учасникам автоматично застосовується дизайн компанії
- При вимкненні єдиного дизайну учасники отримують можливість редагувати свій дизайн





